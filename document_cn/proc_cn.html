<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The Tengine Web Server</title>
  <link rel="stylesheet" type="text/css" href="../style.css">
  <script type="text/javascript" src="/js/??ga.js,correctpng.js?v=1"></script>
</head>

<body>
<div id="container">
  <div id="menu_cn">
    <ul>
      <li><a href="../download_cn.html"><img src="../images/icon-down.png"/>下载</a></li>
      <li><a href="../source_cn.html"><img src="../images/icon_code.png"/>源码</a></li>
      <li><a href="../documentation_cn.html"><img src="../images/icon-doc.png"/>文档</a></li>
      <li><a href="../faq_cn.html"><img src="../images/icon-faq.png"/>FAQ</a></li>
      <li><a href="../contact_cn.html"><img src="../images/icon-contact.png"/>联系我们</a></li>
      <li id="book"><a href="../book/">开发教程</a></li>
      <li id="lang"><a href="../index_cn.html">中文</a> | <a href="../index.html">English</a></li>
    </ul>
  </div>
  <div id="logo"><a href="../index_cn.html"><img src="../images/logo.png" alt="tengine" /></a></div>
  <div class="clear"></div>
  <div class="one_col more_padding font16">

<br /><br />

<p>提供一种可以通过实现模块来启动独立进程的机制</p>

<p>你可以在<a href="../../examples/ngx_proc_daytime_module">http://tengine.taobao.org/examples/ngx_proc_daytime_module</a>这里找到一个示例模块</p>

<div class="dh">例子</div>

<pre class="mod_example"><code>processes {
    process echo {
        echo on;
        echo_str "hello, world";
        listen 8888;
        count 1;
        priority 1;
        delay_start 10s;
        respawn off;
    }

    process example {
        count 1;
        priority 0;
        delay_start 0s;
        respawn on;
    }
}
</code></pre>

<div class="dh">指令</div>

<br /><br />


<div class="directive"><p>Syntax: <strong>process</strong> <code>name { }</code></p>

<p>Default: <code>none</code></p>

<p>Context: <code>processes</code></p></div>

<br /><br />

<div class="directive"><p>Syntax: <strong>count</strong> <code>num</code></p>

<p>Default: <code>1</code></p>

<p>Context: <code>process</code></p></div>

<p>指定启动的进程数。</p>

<br /><br />

<div class="directive"><p>Syntax: <strong>priority</strong> <code>num</code></p>

<p>Default: <code>0</code></p>

<p>Context: <code>process</code></p></div>

<p>指定进程的优先级(-20 - 20 之间)，越低的数值其被调度的优先级越高。</p>

<br /><br />

<div class="directive"><p>Syntax: <strong>delay_start</strong> <code>time</code></p>

<p>Default: <code>0s</code></p>

<p>Context: <code>process</code></p></div>

<p>设置进程启动的延迟时间。</p>

<br /><br />

<div class="directive"><p>Syntax: <strong>respawn</strong> <code>on | off</code></p>

<p>Default: <code>on</code></p>

<p>Context: <code>process</code></p></div>

<p>如果设置了这个指令，进程在异常推出时会被Tengine重新启动。</p>
  </div>
</div>
<div id="copyright">&copy; 2011-2014 Taobao Inc. All rights reserved.</div>
</body>
</html>
